[{"C:\\Users\\hhp12\\Desktop\\client\\src\\index.js":"1","C:\\Users\\hhp12\\Desktop\\client\\src\\App.js":"2","C:\\Users\\hhp12\\Desktop\\client\\src\\reportWebVitals.js":"3","C:\\Users\\hhp12\\Desktop\\client\\src\\reducers\\index.js":"4","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Sign.js":"5","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Homepage.js":"6","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Coverpage.js":"7","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Demo.js":"8","C:\\Users\\hhp12\\Desktop\\client\\src\\reducers\\cover_sign_language.js":"9","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Language.js":"10","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Card.js":"11","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Background.js":"12","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Setting.js":"13","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Password.js":"14","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\ChatPanel.js":"15","C:\\Users\\hhp12\\Desktop\\client\\src\\actions\\index.js":"16","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Info.js":"17"},{"size":759,"mtime":1607804288766,"results":"18","hashOfConfig":"19"},{"size":641,"mtime":1609082178145,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"19"},{"size":229,"mtime":1607786503150,"results":"22","hashOfConfig":"19"},{"size":9922,"mtime":1610381419542,"results":"23","hashOfConfig":"19"},{"size":26134,"mtime":1610381483589,"results":"24","hashOfConfig":"19"},{"size":4097,"mtime":1610059532321,"results":"25","hashOfConfig":"19"},{"size":26170,"mtime":1610329093846,"results":"26","hashOfConfig":"19"},{"size":184,"mtime":1607787108468,"results":"27","hashOfConfig":"19"},{"size":8090,"mtime":1610134228568,"results":"28","hashOfConfig":"19"},{"size":2280,"mtime":1610381388582,"results":"29","hashOfConfig":"19"},{"size":1418,"mtime":1610135177751,"results":"30","hashOfConfig":"19"},{"size":1158,"mtime":1610134512899,"results":"31","hashOfConfig":"19"},{"size":1293,"mtime":1610140131996,"results":"32","hashOfConfig":"19"},{"size":1539,"mtime":1610300213037,"results":"33","hashOfConfig":"19"},{"size":115,"mtime":1607785983421,"results":"34","hashOfConfig":"19"},{"size":3971,"mtime":1610327831529,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"adn45o",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"38"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"C:\\Users\\hhp12\\Desktop\\client\\src\\index.js",[],["76","77"],"C:\\Users\\hhp12\\Desktop\\client\\src\\App.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\reportWebVitals.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\reducers\\index.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Sign.js",["78","79"],"import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './css/sign.css'\r\nimport { Button, Form, FormGroup, Input, Modal, ModalHeader } from 'reactstrap';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {cover_sign_language} from '../actions'\r\nimport Particles from 'react-particles-js';\r\nimport { Alert } from 'reactstrap';\r\nimport { Redirect } from \"react-router\";\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nconst secret = 'hhp';\r\n\r\nfunction Sign() {\r\n    const language = useSelector(state=>state.cover_sign_language);\r\n    const [state, setState] = useState('login');\r\n    const [popup, setPopup] = useState(false);\r\n    const [msg, setMsg] = useState('');\r\n    let id = '';\r\n    function verify_token(){\r\n        var token = localStorage.getItem('jwt_token');\r\n        if(!token) return false\r\n        try {\r\n            id = jwt.verify(token, secret).id;\r\n        } catch (error) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    const [redirect,setRedirect] = useState(verify_token());\r\n    const dispatch = useDispatch();\r\n    \r\n    \r\n\r\n    function Japn(msg){\r\n        switch(msg){\r\n            case 'Please fill out all fields':\r\n                return 'すべてのフィールドに入力してください'\r\n            case 'Please use valid email address':\r\n                return '有効なメールアドレスを使ってください'\r\n            case 'Your password must be 8 characters or more':\r\n                return 'パスワードは8文字以上である必要があります'\r\n            case 'Two passwords mismatch with each other':\r\n                return '二つのパスワードは一致していません'\r\n            case 'This email has already been registered':\r\n                return 'このメールはすでに登録されています'\r\n            case 'User does not exist':\r\n                return 'ユーザーは存在しません'\r\n            case 'Wrong password':\r\n                return 'パスワードが間違っています'\r\n            \r\n            default:\r\n                \r\n        }\r\n    }\r\n\r\n    async function register(){\r\n        const result = await axios({\r\n            method: 'post',\r\n            url: 'https://miaomiao-server.herokuapp.com/api/users',\r\n            data: {\r\n                confirm: document.getElementById('confirm').value,\r\n                email: document.getElementById('email').value,\r\n                password: document.getElementById('password').value,\r\n                name: document.getElementById('name').value\r\n              }\r\n        });\r\n        const {msg, token} = result.data;\r\n        if(msg){\r\n            setMsg(language==='English'?msg:Japn(msg))\r\n        } else {\r\n            localStorage.setItem('jwt_token', token)\r\n            // setRedirect(true)\r\n            window.location.href = '/homepage'\r\n        }\r\n        \r\n    }\r\n    async function login(){\r\n        const result = await axios({\r\n            method: 'post',\r\n            url: 'https://miaomiao-server.herokuapp.com/api/auth',\r\n            data: {\r\n                email: document.getElementById('email').value,\r\n                password: document.getElementById('password').value,\r\n            }\r\n        });\r\n        const {msg, token} = result.data;\r\n        if(msg){\r\n            setMsg(language==='English'?msg:Japn(msg))\r\n        } else {\r\n            localStorage.setItem('jwt_token', token)\r\n            window.location.href = '/homepage'\r\n            // setRedirect(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg\" style={{height: '100vh', overflow: 'hidden' }}>\r\n           \r\n           <Particles\r\n                params={{\r\n                    \"particles\": {\r\n                        \"number\": {\r\n                            \"value\": 160,\r\n                            \"density\": {\r\n                                \"enable\": false\r\n                            }\r\n                        },\r\n                        \"color\":{\r\n                            \"value\": [\"#BD10E0\",\"#B8E986\",\"#50E3C2\",\"#FFD300\",\"#E86363\"]\r\n                        },\r\n                        \"size\": {\r\n                            \"value\": 8,\r\n                            \"random\": true,\r\n                            \"anim\": {\r\n                                \"speed\": 5,\r\n                                \"size_min\": 1\r\n                            }\r\n                        },\r\n                        \"opacity\": {\r\n                            \"value\": 1\r\n                        },\r\n                        \"line_linked\": {\r\n                            \"enable\": false\r\n                        },\r\n                        \"move\": {\r\n                            \"random\": true,\r\n                            \"speed\": 1,\r\n                            \"direction\": \"none\",\r\n                            \"out_mode\": \"out\"\r\n                        }\r\n                    },\r\n                    \"interactivity\": {\r\n                        \"events\": {\r\n                            \"onhover\": {\r\n                                \"enable\": true,\r\n                                \"mode\": \"bubble\"\r\n                            },\r\n                            \"onclick\": {\r\n                                \"enable\": true,\r\n                                \"mode\": \"repulse\"\r\n                            }\r\n                        },\r\n                        \"modes\": {\r\n                            \"bubble\": {\r\n                                \"distance\": 250,\r\n                                \"duration\": 2,\r\n                                \"size\": 0,\r\n                                \"opacity\": 0\r\n                            },\r\n                            \"repulse\": {\r\n                                \"distance\": 400,\r\n                                \"duration\": 4\r\n                            }\r\n                        }\r\n                    }\r\n                }} />\r\n            \r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              overflow: 'hidden',\r\n              \r\n            }}\r\n          >\r\n              \r\n              <Form className='form' autoComplete={'off'} >\r\n                <Alert color=\"info\"  style={{position: 'absolute', margin: 'auto',  textAlign: 'center', bottom: '2px', left: '5px', background: 'transparent', border: 'none'}}>\r\n                    You can have a peek at <a href='/demo'>demo</a> before signing up\r\n                </Alert>\r\n                <div className='option'>\r\n                    <button className='login' onClick={(e)=>{e.preventDefault();setState('login')}} style={{color: state==='login'? 'rgb(24, 164, 230)': 'white'}}>{language==='English'? 'login': 'ログイン'}</button>\r\n                    <button className='signup' onClick={(e)=>{e.preventDefault();setState('signup')}} style={{color: state==='signup'? 'rgb(24, 164, 230)': 'white'}}>{language==='English'? 'sign up': 'サインアップ'}</button>\r\n                </div>\r\n                {state==='login'? \r\n                    <FormGroup className='content'>\r\n                        <Input type=\"email\" name=\"email\" id=\"email\" style={{marginTop: '35px'}} placeholder={language==='English'? \"email address\": '電子メールアドレス'} />\r\n                        <Input type=\"password\" name=\"password\" style={{marginTop: '35px'}} id=\"password\" placeholder={language==='English'? \"password\": 'パスワード'} />\r\n                        <Button outline color=\"success\" id='submit' onClick={login}>{language==='English'? 'login': 'ログイン'}</Button>\r\n                    </FormGroup> :\r\n                    <FormGroup className='content'>\r\n                        <Input type=\"email\" name=\"email\" id=\"email\" placeholder={language==='English'? \"email address (can't change)\": '電子メールアドレス (変えられません)'} />\r\n                        <Input type=\"name\" name=\"name\" id=\"name\" placeholder={language==='English'? \"username (can't change)\": '名前 (変えられません)'} />\r\n                        <Input type=\"password\" name=\"password\" id=\"password\" placeholder={language==='English'? \"password\": 'パスワード'} />\r\n                        <Input type=\"password\" name=\"confirm\" id=\"confirm\" placeholder={language==='English'? \"confrim password\": 'パスワード確認'} />\r\n                        <Button id='submit'outline color=\"success\" onClick={register}>{language==='English'? 'register': '登録'}</Button>\r\n                    </FormGroup>            \r\n                }\r\n                {redirect? <Redirect to={'/homepage'}></Redirect>: ''}\r\n                <Link to={'/'}><Button outline color=\"info\" className='back'>{language==='English'? 'back': '戻る'}</Button></Link><Button outline color=\"secondary\" className='language' onClick={()=>{setPopup(true)}}>{language==='English'? 'language': '言語'}</Button> \r\n              </Form>\r\n              {msg? \r\n                    <Alert className='msg' id='msg' color=\"danger\">\r\n                        {msg}\r\n                    </Alert>: ''}\r\n                \r\n        </div>\r\n        <Modal isOpen={popup}>\r\n            <ModalHeader toggle={()=>{setPopup(!popup); }}>{language===\"English\"? 'Please choose your language': '言語を選んでください'}</ModalHeader>\r\n            <Input type=\"select\" name=\"backdrop\" id=\"backdrop\" onChange={(e)=>{dispatch(cover_sign_language(e.target.value)); setPopup(!popup);}}>\r\n                <option value={language}>{language===\"English\"? 'Options...': '選択肢...'}</option>\r\n                <option value=\"English\">English</option>\r\n                <option value=\"Japanese\">日本語</option>\r\n            </Input>\r\n            \r\n        </Modal>\r\n        \r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Sign;","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Homepage.js",["80","81","82","83","84","85","86"],"import React ,{useState, useEffect}from 'react';\r\nimport './css/homepage.css'\r\nimport { FaInfo,FaCog, FaComment, FaUserFriends, FaUserCircle, FaSignOutAlt, FaPlus, FaSearch, FaCheck, FaTimes} from 'react-icons/fa';\r\nimport {Link} from 'react-router-dom'\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { InputGroup, InputGroupAddon, InputGroupText, Input, Button, Modal,  ModalFooter, ModalHeader, Label, Form} from 'reactstrap';\r\nimport {cover_sign_language} from '../actions'\r\nimport axios from 'axios'\r\nimport io from 'socket.io-client'\r\nimport defaultImg from './others/default.jpg'\r\n\r\n\r\nimport jwt from 'jsonwebtoken';\r\nimport Card from './components/Card'\r\nimport Setting from './components/Setting'\r\nimport Language from './components/Language'\r\nimport ChatPanel from './components/ChatPanel'\r\nimport Background from './components/Background'\r\nimport Password from './components/Password'\r\nimport Info from './components/Info'\r\n\r\n\r\nimport road from './homepage-bg/road.jpg'\r\nimport sakura from './homepage-bg/sakura.jpg'\r\nimport sea from './homepage-bg/sea.jpg'\r\nimport city from './homepage-bg/city.jpg'\r\nimport forest from './homepage-bg/forest.jpg'\r\nimport prairie from './homepage-bg/prairie.jpg'\r\nimport bridge from './homepage-bg/bridge.jpg'\r\nimport aurora from './homepage-bg/aurora.jpg'\r\nimport universe from './others/universe.jpg'\r\n\r\nlet  socket;\r\nfunction Homepage() {\r\n    const [mounted, setMounted] = useState(false);\r\n    \r\n    if(!mounted){\r\n        setMounted(true)\r\n        let id;\r\n        var token = localStorage.getItem('jwt_token');\r\n        if(!token) {\r\n            window.location.href = '/'\r\n        }\r\n        try {\r\n            id = jwt.verify(token, 'hhp').id;\r\n        } catch (error) {\r\n            window.location.href = '/'\r\n        }\r\n        \r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://miaomiao-server.herokuapp.com/api/users',\r\n        }).then(dough=>{\r\n            // icon unhandled\r\n            setAllUsers(dough.data);\r\n            \r\n            let obj = dough.data.filter(user=>user._id===id)[0];\r\n            const {friends, background, language, requestReceived,  description\r\n                , requestSent, name, email, icon} = obj;\r\n            setFriends(friends); setRequestReceived(requestReceived); setDescription(description);\r\n            setRequestSent(requestSent); setName(name); setEmail(email);setLastUser({lastUser:null})\r\n            setBackground(background); dispatch(cover_sign_language(language));setIcon(icon)\r\n            setSearchRes(dough.data);setRequestState(requestReceived.length===0)\r\n            \r\n            socket = io('https://miaomiao-server.herokuapp.com/');\r\n            socket.emit('join', name);\r\n            socket.on('receiveRequest', (name)=>{\r\n                setRequestReceived([...requestReceived, name])\r\n                \r\n            });\r\n            \r\n            socket.on('receiveResponse', (from, isFriend)=>{\r\n                const index = requestSent.findIndex(user=>user===from);\r\n                setRequestSent(requestSent.splice(index, 1));\r\n                if(isFriend){\r\n                    friends.push([from])\r\n                    setFriends([...friends])\r\n                } \r\n            })\r\n            socket.on('receiveChat', (user, msg)=>{\r\n                if(!lastUser.lastUser){\r\n                    friends.filter(us=>us[0]===user)[0].push({me:false, msg});\r\n                    setFriends([...friends])\r\n                    return\r\n                }\r\n                if(right === 'Chat' && lastUser.lastUser[0] === user){\r\n                    // setLastUser([...lastUser.lastUser, {me:false, msg}]);\r\n                    lastUser.lastUser.push({me:false, msg})\r\n                    setRight('Blank')\r\n                    setFriends([...friends])\r\n                } else {\r\n                    friends.filter(us=>us[0]===user)[0].push({me:false, msg});\r\n                    setFriends([...friends])\r\n                }\r\n            })\r\n            socket.on('receiveUnfriend', from=>{\r\n                // const name = lastUser.lastUser[0]\r\n                setFriends([...friends.filter(user=>user[0]!==from)]);\r\n                // if(!lastUser.lastUser){\r\n                //     return\r\n                // }\r\n                // if(name===from){\r\n                //     setLastUser({lastUser: null})\r\n                //     setRight('Chat')\r\n                // }\r\n                setLastUser({lastUser: null})\r\n                setRight('Blank')\r\n            })\r\n        });\r\n    }\r\n    const [width, setWidth] = useState(window.innerWidth>=800);\r\n    const [mobile_state, setMobileState] = useState('chat');\r\n    const dispatch = useDispatch();\r\n    const language = useSelector(state=>state.cover_sign_language);\r\n    const [logoutWindow, setLogoutWindow] = useState(false);\r\n    const [friendWindow, setFriendWindow] = useState(false);\r\n    const [requestState, setRequestState] = useState(false);\r\n    const [icon, setIcon] = useState(0)\r\n    const [sayGoodBye, setSayGoodBye] = useState([])\r\n    \r\n    // wait for api \r\n    const [background, setBackground] = useState('Universe');\r\n    const [friends, setFriends] = useState([]);\r\n    const [lastUser, setLastUser] = useState({lastUser: null});\r\n    const [requestReceived, setRequestReceived] = useState([]);\r\n    const [description, setDescription] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [requestSent, setRequestSent] = useState([]);\r\n    const [UC, setUC] = useState(false)\r\n    const [otherCard, setOtherCard] = useState(false);\r\n    const [unfriend, setUnfriend] = useState(false)\r\n   \r\n    window.addEventListener(\"resize\", function () {\r\n        if(window.innerWidth>=800&&!width){\r\n            setWidth(true);\r\n        } else if(window.innerWidth<800&&width){\r\n            setWidth(false);\r\n        }\r\n    })\r\n    \r\n\r\n    const [searchRes, setSearchRes] = useState(allUsers);\r\n    const [chatList, setChatList] = useState(renderChatList(null));\r\n    const [right, setRight] = useState('Chat');\r\n    \r\n    useEffect(()=>{\r\n        setRequestState(requestReceived===0);\r\n        \r\n    }, [requestReceived])\r\n    useEffect(()=>{\r\n        setChatList(renderChatList(null))\r\n    }, [friends])\r\n    \r\n    useEffect(()=>{\r\n        if(right==='Chat'&&document.getElementById('chatW')){\r\n            document.getElementById('chatW').scrollTop = document.getElementById('chatW').scrollHeight\r\n            \r\n        }\r\n        if(right === 'Blank'){\r\n            setRight('Chat')\r\n        }\r\n    }, [right])\r\n    \r\n    function renderChatList(str){\r\n        \r\n        if(str) {\r\n            const regex = new RegExp(`^${str}`, 'gi');\r\n            const temp = friends.filter(user=>user[0].match(regex))\r\n            if(temp.length === 0) return(<h5 style={{width: '100%', textAlign: \"center\", color: 'lightgray', marginTop: '10px'}}>{language==='English'?'No results': '結果がありません'}</h5>)\r\n            return (temp.map(user=> (<div id={user[0]} key={user[0]} className='chat-list-item' onClick={()=>{\r\n                    setLastUser({lastUser: user}); setRight('Chat');\r\n                }}>\r\n                    <div id={user[0] + \"'s photo\" } className='photo' style={{backgroundImage: `url('${allUsers.find(t=>t.name===user[0])?allUsers.find(t=>t.name===user[0]).icon?'https://miaomiao-server.herokuapp.com/image/'+allUsers.find(t=>t.name===user[0]).icon:defaultImg:defaultImg}')`}}></div>\r\n                    <div style={{marginLeft: '10px', marginTop: '5px'}}>\r\n                        <h4　style={{textAlign:'left'}}>{user[0]}</h4>\r\n                        {user.length===1?'':\r\n                            <h6 style={{cursor: 'context-menu'}} id={'lastword_'+ user[0]}>{user[user.length-1].msg.length>22?user[user.length-1].msg.substring(0,20)+'...': user[user.length-1].msg}</h6>\r\n                        }\r\n                    </div>\r\n                </div>)\r\n            ))\r\n        }\r\n        return (friends.map(user=>{\r\n            return (<div id={user[0]} key={user[0]} className='chat-list-item' onClick={()=>{\r\n                setLastUser({lastUser: user});\r\n                setRight('Blank');\r\n                lastUser.lastUser = user;\r\n\r\n                }}>\r\n                <div id={user[0] + \"'s photo\" } className='photo' style={{backgroundImage: `url('${allUsers.find(t=>t.name===user[0])?allUsers.find(t=>t.name===user[0]).icon?'https://miaomiao-server.herokuapp.com/image/'+allUsers.find(t=>t.name===user[0]).icon:defaultImg:defaultImg}')`}}></div>\r\n                <div style={{marginLeft: '10px', marginTop: '5px'}}>\r\n                    <h4 style={{width: '100%', textAlign:'left'}}>{user[0]} </h4>\r\n                    {user.length===1?'':\r\n                    <h6 style={{cursor: 'context-menu'}} id={'lastword_'+ user[0]}>{user[user.length-1].msg.length>22?user[user.length-1].msg.substring(0,20)+'...': user[user.length-1].msg}</h6>\r\n                    }\r\n                </div>\r\n            </div>)\r\n        }))\r\n    }\r\n  \r\n\r\n    function requestAnswered(user, isFriend){\r\n        const index = requestReceived.findIndex(name=>user===name);\r\n        requestReceived.splice(index, 1);\r\n        setRequestReceived(requestReceived)\r\n        setRequestState(requestReceived.length === 0)\r\n        socket.emit('requestAnswered', name, user, isFriend)\r\n        if(isFriend){\r\n            friends.push([user])\r\n            setFriends([...friends])\r\n        } \r\n    }\r\n    \r\n    function switch_to_chat(){\r\n        setRight('Chat');\r\n    }\r\n    function hashBg(photo){\r\n        switch(photo){\r\n            case'Universe':\r\n                return universe\r\n            case'Aurora':\r\n                return aurora\r\n            case'Bridge':\r\n                return bridge\r\n            case'City':\r\n                return city\r\n            case'Forest':\r\n                return forest\r\n            case'Prairie':\r\n                return prairie\r\n            case'Road':\r\n                return road\r\n            case'Sakura':\r\n                return sakura\r\n            case'Sea':\r\n                return sea\r\n            default: \r\n        }\r\n    }\r\n    \r\n    function switch_to_setting(){\r\n        setRight('Setting');\r\n        \r\n    }\r\n\r\n    const goTo = (str)=>{\r\n        setRight(str)\r\n    }\r\n\r\n    const back = ()=>{\r\n        setRight('Setting')\r\n    }\r\n\r\n    const setLanguage= (str)=>{\r\n        dispatch(cover_sign_language(str));\r\n    }\r\n\r\n    const handleSend = ()=>{\r\n        const from = name;\r\n        const to = lastUser.lastUser[0];\r\n        const msg = document.getElementsByTagName('textarea')[0].value;\r\n        document.getElementsByTagName('textarea')[0].value = '';\r\n        // render this window\r\n        friends.filter(user=>user[0]===to)[0].push({me:true, msg})\r\n        setFriends([...friends])\r\n        setRight('Blank')\r\n        socket.emit('sendChat', from, to ,msg)\r\n        \r\n    }\r\n\r\n    const openOtherCard = (name)=>{\r\n        const temp = allUsers.filter(user=>user.name === name)[0]\r\n        setOtherCard(temp)\r\n        setRight('OtherCard')\r\n    }\r\n\r\n    const setPassword=()=>{\r\n        const pa = document.getElementById('pa').value\r\n        const pb = document.getElementById('pb').value\r\n        const pc = document.getElementById('pc').value\r\n        const cb = (msg)=>{\r\n            if(msg){\r\n                document.getElementById('msg_display').innerHTML = msg;\r\n                return\r\n            } else {\r\n                setRight('Setting')\r\n            }\r\n        }\r\n        socket.emit('changePs', name, pa, pb, pc, cb)\r\n    }\r\n    return (\r\n        \r\n        <div className='homepage' style={background?{backgroundImage: `url(${hashBg(background)})`}: {background: 'lightgray'}}>\r\n            <div className='shadow'></div>\r\n            \r\n            {width?\r\n                (<div className='chat-window'> \r\n                    <nav className='navbar'>\r\n                        <button onClick={switch_to_chat} className='chat-btn' id='chat'><FaComment size={28} style={{color: right==='Chat' ||right==='OtherCard'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={switch_to_setting} className='chat-btn' id='setting'><FaCog size={28} style={{color: right!=='Chat'&&right!=='OtherCard'&&right!=='Info'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setRight('Info')}} className='chat-btn' id='instruction' style={{color: right==='Info'? 'rgb(91, 226, 79)': ''}}><FaInfo size={28} /></button>\r\n                        <button onClick={()=>{if(right==='Language'){setRight('Setting')}setLogoutWindow(!logoutWindow); }} className='chat-btn' id='logout'><FaSignOutAlt size={28} /></button>\r\n                    </nav>\r\n                    \r\n                    <div className='main-interface'>\r\n                        <div className='middle'>\r\n                            <div className='mid-header'>\r\n                                <InputGroup className='search-container'>\r\n                                    <InputGroupAddon addonType=\"prepend\">\r\n                                        <InputGroupText><FaSearch size={16}/></InputGroupText>\r\n                                    </InputGroupAddon>\r\n                                    <Input className='search' placeholder={language==='English'?\"Search\": '検索'} onChange={(e)=>{setChatList(renderChatList(e.target.value))}}/>\r\n                                </InputGroup>\r\n                                <button onClick={()=>{if(right==='Language'){setRight('Setting')}setFriendWindow(!friendWindow)}} className='chat-btn' id='w-add'><FaPlus size={28} /></button>\r\n\r\n                            </div>\r\n                            <div style={{height: '88%', overflow: 'scroll', overflowX: 'hidden'}}>\r\n                                <div style={{borderBottom: 'white 1px solid', maxHeight: '110px', overflowY: 'scroll'}}>\r\n                                    <h5 style={{textAlign: 'center', padding: '5px 0'}}>{language==='English'?'Friend Request':'友達リクエスト'}</h5>\r\n                                    {requestState?\r\n                                        (<h6 style={{width: '100%', textAlign: \"center\", color: '#aaa', marginTop: '10px'}}>{language==='English'?'No results': '結果がありません'}</h6>):\r\n                                        (requestReceived.map(user=>(\r\n                                            <div key={'request'+user}style={{ paddingLeft: '30px',  borderTop: 'white 1px solid', height: '42px'}}>\r\n                                                <span style={{fontSize: '20px', position: 'relative'}}>{user} </span>\r\n                                                <button onClick={()=>{requestAnswered(user, false)}} className='no'  color='info' style={{color: 'red',  background: 'transparent', float: 'right', marginLeft: '10px', border: 'none'}}><FaTimes size={'20px'}/></button >\r\n                                                <button onClick={()=>{requestAnswered(user, true)}} className='yes'  color=\"info\" style={{color: 'green', background: 'transparent', float: 'right', border: 'none'}}><FaCheck size={'20px'}/></button > \r\n                                            </div>))\r\n                                        )\r\n                                    }\r\n                                    <br></br>\r\n                                </div>\r\n                                \r\n                                {chatList}\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            {right === 'Chat'?<ChatPanel user={lastUser} handleSend={handleSend} openOtherCard={openOtherCard} language={language}/>:\r\n                                right==='OtherCard'?<Card icon={otherCard.icon} description={otherCard.description} email={otherCard.email} name={otherCard.name} back={()=>setRight('Chat')} unfriend={setUnfriend}/>:\r\n                                right === 'Blank'? '':\r\n                                right === 'Info'?<Info language={language}/>:\r\n                                right === 'Setting'? <Setting language={language} goTo={goTo}/>:\r\n                                right === 'Language'? <Language back={back} language={language} setLanguage={(str)=>{setLanguage(str); socket.emit('changeLanguage', name, str);setRight('Setting')}}/>:\r\n                                right === 'Card'? <Card back={back} setCard={()=>setUC(true)} icon={icon} description={description} email={email} name={name}/>:\r\n                                right === 'Background'? <Background back={back} language={language}　setBackground={(str)=>{setBackground(str);socket.emit('changeBackground', name, str)}}/>:\r\n                                <Password back={back} language={language} setPassword={setPassword}/>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>): \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                // mobile screen\r\n                <div className='chat-mobile'>\r\n                    <h5 style={{margin: 'auto'}}>The mobile frontend is down for update, please use laptop instead</h5>\r\n                    {/* <div className='m-header'>\r\n                        <button className='chat-btn' id='m-add'><FaPlus size={28} /></button>\r\n                    </div>\r\n                    <div className='m-content'>\r\n                        {mobile_state==='chat'?\r\n                            <div className='part'>1</div>:\r\n                            mobile_state==='friends'?\r\n                            <div className='part'>2</div>:\r\n                            <div className='part'>3</div>\r\n                        }\r\n                        <CSSTransition\r\n                            in={mobile_state === 'chat'}\r\n                            timeout={500}\r\n                            classNames=\"menu-primary\"\r\n                            unmountOnExit>\r\n                                <div className='part'>1</div>\r\n                        </CSSTransition>\r\n                        <CSSTransition\r\n                            in={mobile_state === 'friends'}\r\n                            timeout={500}\r\n                            classNames=\"menu-secondary\"\r\n                            unmountOnExit>\r\n                                <div className='part'>2</div>\r\n                        </CSSTransition>\r\n                    </div>\r\n                    <div className='m-navbar'>\r\n                        <button onClick={()=>{setMobileState('chat')}} className='chat-btn' id='chat'><FaComment size={28} style={{color: active==='chat'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setMobileState('friends')}} className='chat-btn' id='friends'><FaUserFriends size={28} style={{color: active==='friends'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setMobileState('file')}} className='chat-btn' id='profile'><FaUserCircle size={28} style={{'color':'white'}}/></button>\r\n                    </div> */}\r\n                </div>\r\n            }\r\n            \r\n            <Modal isOpen={unfriend} toggle={()=>{setUnfriend(!unfriend)}} style={{position: 'relative', top: '100px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >{language==='English'?'Are you sure you want to unfriend this user?':'このユーザーを友達から削除しますか？'}</ModalHeader>\r\n                \r\n                <ModalFooter>\r\n                    <Button color=\"success\" outline onClick={()=>{\r\n                        setUnfriend(!unfriend);sayGoodBye.push(lastUser.lastUser[0]); setFriends([...friends.filter(user=>user[0]!==lastUser.lastUser[0])]);socket.emit('unfriend', name, lastUser.lastUser[0]);setLastUser({lastUser: null});setRight('Chat');\r\n                    }} >{language==='English'?'Confirm':'削除'}</Button>\r\n                    <Button color=\"danger\" outline onClick={()=>{setUnfriend(!unfriend)}} >{language==='English'?'Cancel':'キャンセル'}</Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n            <Modal isOpen={logoutWindow} toggle={()=>{setLogoutWindow(!logoutWindow)}} style={{position: 'relative', top: '100px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >{language==='English'?'You want to log out now?':'今すぐログアウトしますか？'}</ModalHeader>\r\n                \r\n                <ModalFooter>\r\n                    <Link to='/'><Button color=\"primary\" onClick={()=>{setLogoutWindow(!logoutWindow); localStorage.removeItem('jwt_token')}}>{language==='English'?'Confirm':'はい'}</Button></Link>\r\n                    <Button color=\"secondary\" onClick={()=>{setLogoutWindow(!logoutWindow)}}>{language==='English'?'Cancel':'いいえ'}</Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={friendWindow} toggle={()=>{setFriendWindow(!friendWindow)}} style={{position: 'relative', top: '100px', width: '300px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >{language==='English'?'Search user by name':'名前で検索します'}</ModalHeader>\r\n                <Input type='text' style={{width: '90%', marginLeft: '10px', marginTop: '5px'}} onChange={(e)=>{\r\n                    const regex = new RegExp(`^${e.target.value}`, 'gi');\r\n                    setSearchRes(allUsers.filter(user=>user.name.match(regex)));\r\n                }}></Input>\r\n                <p style={{paddingLeft: '5px'}}>{language==='English'? 'Notice: Your friends and users you have received from or sent request will not be displayed here'\r\n                :'すでに友達である人とリクエストを送信したあるいは相手から受け取った人はこちらに表示されません'}</p>\r\n                <div style={{height: '200px', overflow: 'scroll'}}>\r\n                    {searchRes.map(user=>user.name).filter(user=>!friends.map(user=>user[0]).includes(user)&&!requestSent.includes(user)&&user!==name&&!requestReceived.includes(user)&&!sayGoodBye.includes(user)).map(user=><div key={'add_'+user} style={{height: '50px', paddingTop: '5px'}}>\r\n                        <span style={{fontSize: '20px', marginLeft: '10px', marginTop: '3px'}}>{user}</span>\r\n                        <Button onClick={()=>{setRequestSent([...requestSent, user]);socket.emit('sendRequest', user);}} outline color='info' style={{float: 'right', marginRight: '5px'}}>{language==='English'?'send':'送信'}</Button>\r\n                    </div>)}\r\n                </div>\r\n                \r\n            </Modal>\r\n            <Modal isOpen={UC} toggle={()=>{setUC(!UC)}} style={{position: 'relative', top: '100px', width: language==='English'?'318px':'270px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >{language==='English'?'Customize your user card':'ユーザーカードDIY'}\r\n                <Button id='card_change' style={{color: 'green', background: 'transparent', position: 'relative', top: '-5px', right: '-12px', border: '0'}} onClick={(e)=>{\r\n                        if(!document.getElementById('c_image').value){\r\n                            const description = document.getElementById('c_des').value;\r\n                            socket.emit('card', email, description, false)\r\n                            setDescription(description);\r\n                            setRight('Setting');setUC(false)\r\n                            return\r\n                        }\r\n                        \r\n                        function temp(){\r\n                            var formData = new FormData();\r\n                            var imagefile = document.querySelector('#c_image');\r\n                            formData.append(\"img\", imagefile.files[0]);\r\n                            axios.post('https://miaomiao-server.herokuapp.com/card', formData, {\r\n                                headers: {\r\n                                'Content-Type': 'multipart/form-data'\r\n                                }\r\n                            }).then(a=>'')\r\n                        }\r\n                        if(icon){\r\n                            axios.delete(\"https://miaomiao-server.herokuapp.com/images/\"+icon).then(a=>temp())\r\n                        } else {\r\n                            temp()\r\n                        }\r\n                        \r\n\r\n                        e.preventDefault();\r\n                        let img = document.getElementById('c_image').value.split('\\\\');\r\n                        img = img[img.length-1]\r\n                        let description = document.getElementById('c_des').value;\r\n\r\n\r\n                        socket.emit('card', email, description, img)\r\n                        setDescription(description);setIcon(img);\r\n                        setRight('Setting');setUC(false)\r\n                    }}><FaCheck size='28px'/></Button>\r\n                </ModalHeader>\r\n                <Form  autoComplete={'off'}>\r\n                    <Label className='left10'>{language==='English'?'User Image':'イメージ'}</Label>\r\n                    <Input className='left10 bot20' type='file' name='img' id='c_image'/>\r\n                    <Label className='left10'>{language==='English'?'User Name':'名前'}</Label>\r\n                    <Input className='left10 bot20' type='text' name='name' style={{width: '60%'}} value={name} disabled/>\r\n                    <Label className='left10'>{language==='English'?'Email Address':'電子メールアドレス'}</Label>\r\n                    <Input className='left10 bot20' type='text' name='email' style={{width: '60%'}} value={email} disabled/>\r\n                    <Label className='left10'>{language==='English'?'Description':'自己紹介'}</Label>\r\n                    <Input className='left10 bot20' type='text' name='description' id='c_des' style={{width: '80%'}} defaultValue={description}/>\r\n                </Form>\r\n                \r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Homepage;","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Coverpage.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\Demo.js",["87","88","89","90","91","92"],"import React ,{useState, useEffect}from 'react';\r\nimport './css/homepage.css'\r\nimport { FaUserSlash,FaEdit,FaArrowAltCircleLeft,FaCog, FaComment, FaUserFriends, FaUserCircle, FaSignOutAlt, FaPlus, FaSearch, FaCheck, FaTimes, FaLanguage, FaKey, FaImage, FaCircle, FaAcquisitionsIncorporated } from 'react-icons/fa';\r\nimport {Link} from 'react-router-dom'\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { InputGroup, InputGroupAddon, InputGroupText, Input, Button, Modal,  ModalFooter, ModalHeader} from 'reactstrap';\r\nimport {cover_sign_language} from '../actions'\r\nimport axios from 'axios'\r\n\r\nimport road from './homepage-bg/road.jpg'\r\nimport sakura from './homepage-bg/sakura.jpg'\r\nimport sea from './homepage-bg/sea.jpg'\r\nimport city from './homepage-bg/city.jpg'\r\nimport forest from './homepage-bg/forest.jpg'\r\nimport prairie from './homepage-bg/prairie.jpg'\r\nimport bridge from './homepage-bg/bridge.jpg'\r\nimport aurora from './homepage-bg/aurora.jpg'\r\nfunction Demo() {\r\n    const [active, setActive] = useState('chat');\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n    const [mobile_state, setMobileState] = useState('chat');\r\n    const [lastUser, setLastUser] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const language = useSelector(state=>state.cover_sign_language);\r\n    const bg_photo = ['Aurora', 'Bridge', 'City', 'Forest', 'Prairie', 'Road', 'Sakura', 'Sea'];\r\n    const [logoutWindow, setLogoutWindow] = useState(false);\r\n    const [friendWindow, setFriendWindow] = useState(false);\r\n    // wait for api \r\n    const requestReceived = ['Jack', 'Bob'];\r\n    const history = [\r\n        ['Alice', {me: false, msg: 'hello'}, {me: true, msg: 'world'}],\r\n        ['Bard', {me: false, msg: 'hello2'}, {me: true, msg: 'world2'}]\r\n    ];\r\n    const friends = ['Alice', 'Bard'];\r\n    const allUsers = ['Alice', 'Bard', 'Candy', 'David', 'Emily'];\r\n    const [background, setBackground] = useState('Sakura');\r\n    const requestSent = [];\r\n    \r\n    const [res, setRes] = useState(allUsers);\r\n    const [chatList, setChatList] = useState(renderChatList(null));\r\n    const [chatPanel, setChatPanel] = useState(renderChatPanel(lastUser));\r\n    const [requestEle, setRequestEle] = useState(renderRequest());\r\n    window.addEventListener(\"resize\", function () {\r\n        setWidth(window.innerWidth);\r\n    })\r\n    function renderChatList(str){\r\n        \r\n        if(str) {\r\n            const regex = new RegExp(`^${str}`, 'gi');\r\n            const temp = history.filter(user=>user[0].match(regex))\r\n            if(temp.length === 0) return(<h5 style={{width: '100%', textAlign: \"center\", color: 'lightgray', marginTop: '10px'}}>No results</h5>)\r\n            return (temp.map(user=> (<div id={user[0]} key={user[0]} className='chat-list-item' onClick={()=>{\r\n                    setLastUser(user);setChatPanel(renderChatPanel(user));  setActive('chat')\r\n                }}>\r\n                    <div id={user[0] + \"'s photo\" } className='photo'></div>\r\n                    {/* <span></span> */}\r\n                    <div style={{marginLeft: '10px', marginTop: '5px'}}>\r\n                        <h4>{user[0]}</h4>\r\n                        <h6>{user[user.length-1].msg.length>22?user[user.length-1].msg.substring(0,20)+'...': user[user.length-1].msg}</h6>\r\n                    </div>\r\n                </div>)\r\n            ))\r\n        }\r\n        return (history.map(user=>{\r\n            return (<div id={user[0]} key={user[0]} className='chat-list-item' onClick={()=>{\r\n                 setActive('chat');setLastUser(user);setChatPanel(renderChatPanel(user)); \r\n                \r\n                }}>\r\n                <div id={user[0] + \"'s photo\" } className='photo'></div>\r\n                {/* <span></span> */}\r\n                <div style={{marginLeft: '10px', marginTop: '2px'}}>\r\n                    <h4 style={{width: '100%'}}>{user[0]} </h4>\r\n                    <h6 style={{cursor: 'context-menu'}}>{user[user.length-1].msg.length>22?user[user.length-1].msg.substring(0,20)+'...': user[user.length-1].msg}</h6>\r\n                </div>\r\n            </div>)\r\n        }))\r\n    }\r\n    function renderChatPanel(user){\r\n        if(!user){\r\n            return (\r\n                <h2 style={{position:'relative', top: '45%', width: '100%',  textAlign: 'center'}}>Click to start</h2>\r\n            )\r\n        }\r\n        const username = user[0];\r\n        const hist_array = user;\r\n        return (\r\n            <div className='chat-panel' style={{height: '100%'}}>\r\n                <h3 style={{width: '100%', height: '10%', paddingTop: '15px', paddingLeft: '25px'}}>\r\n                    {username}\r\n                    <button className='chat-btn' id='more'><FaUserCircle/></button>\r\n                </h3>\r\n                \r\n                <div style={{width: '100%', height: '70%', borderTop: 'white 1px solid',borderBottom: 'white 1px solid', listStyleType: 'none', paddingTop: '10px', overflow: 'scroll'}}>\r\n                    {hist_array.map(msg=>msg.me?<li key={'li_' + msg.me + msg.msg+username} className='my_msg'>{msg.msg}</li>: msg.msg?<li className='their_msg'>{msg.msg}</li>:'')}\r\n                    \r\n                </div>\r\n                <div style={{width: '100%', height: '20%'}}> \r\n                    <textarea />\r\n                    <button className='send-btn'>send</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n\r\n    \r\n    function renderSetting(){\r\n        return (\r\n            \r\n            <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                <Button onClick={()=>{setChatPanel(renderFile()); }} className='setting-btn'><FaUserCircle size={'28px'}/> <span style={{marginLeft: '20px'}}>My Card</span></Button>\r\n                <Button onClick={()=>{setChatPanel(renderLanguage()); }} className='setting-btn'><FaLanguage size={'28px'} /><span style={{marginLeft: '20px'}}>Language</span></Button>\r\n                <Button onClick={()=>{setChatPanel(renderPassword()); }} className='setting-btn'><FaKey size={'28px'}/> <span style={{marginLeft: '20px'}}>Password</span></Button>\r\n                <Button onClick={()=>{setChatPanel(renderBackground()); }} className='setting-btn'><FaImage size={'28px'}/> <span style={{marginLeft: '20px'}}>Background</span></Button>\r\n            </div>\r\n        )\r\n    }\r\n    function requestAnswered(user, isFriend){\r\n        const index = requestReceived.findIndex(name=>user===name);\r\n        requestReceived.splice(index, 1);\r\n        setRequestEle(renderRequest())\r\n        if(isFriend){\r\n            console.log(requestReceived.length)\r\n        } \r\n    }\r\n    function renderRequest(){\r\n        if(!requestReceived.length){\r\n            return(<h6 style={{width: '100%', textAlign: \"center\", color: '#aaa', marginTop: '10px'}}>No results</h6>)\r\n        }\r\n        return (requestReceived.map(user=>(\r\n            <div key={'request'+user}style={{ paddingLeft: '30px',  borderTop: 'white 1px solid', height: '42px'}}>\r\n                <span style={{fontSize: '20px', position: 'relative'}}>{user} </span>\r\n                <button onClick={()=>{requestAnswered(user, false)}} className='no'  color='info' style={{color: 'red',  background: 'transparent', float: 'right', marginLeft: '10px', border: 'none'}}><FaTimes size={'20px'}/></button >\r\n                <button onClick={()=>{requestAnswered(user, true)}} className='yes'  color=\"info\" style={{color: 'green', background: 'transparent', float: 'right', border: 'none'}}><FaCheck size={'20px'}/></button > \r\n            </div>))\r\n        )\r\n    }\r\n    function switch_to_chat(){\r\n        setActive('chat');\r\n        setChatPanel(renderChatPanel(lastUser));\r\n\r\n    }\r\n    function hashBg(photo){\r\n        switch(photo){\r\n            case'Aurora':\r\n                return aurora\r\n            case'Bridge':\r\n                return bridge\r\n            case'City':\r\n                return city\r\n            case'Forest':\r\n                return forest\r\n            case'Prairie':\r\n                return prairie\r\n            case'Road':\r\n                return road\r\n            case'Sakura':\r\n                return sakura\r\n            case'Sea':\r\n                return sea\r\n            default: \r\n        }\r\n    }\r\n    function renderBackground(){\r\n        return(\r\n        <div style={{width: '100%', height: '100%', overflow: 'scroll'}}>\r\n            <button style={{background: 'transparent', fontSize:'32px', marginLeft: '10px'}} className='chat-btn' onClick={()=>{ setChatPanel(renderSetting())}}><FaArrowAltCircleLeft/></button>\r\n            <div style={{height: '90%', width: '80%', marginTop: '2%', marginLeft: '10%'}}>\r\n                {bg_photo.map(photo=>(<div key={photo} style={{width: '100%', marginBottom: '20px'}}>\r\n                    <button className='bg-btn' onClick={()=>{setBackground(photo)}} \r\n                    id={photo}></button>\r\n                    <h5 style={{margin:\"auto\", textAlign: 'center'}}>{photo}</h5>\r\n                </div>))}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    function renderFile(){\r\n        return(\r\n            <div onMouseMove={(e)=>{\r\n                let x = (window.innerWidth/2+180-e.pageX)/10;\r\n                let y = (window.innerHeight/2-e.pageY)/10;\r\n                document.getElementById('card').style.transform = `rotateY(${x}deg) rotateX(${y}deg)`\r\n            }} \r\n            onMouseLeave={(e)=>{\r\n                \r\n                document.getElementById('card').style.transform = `rotateY(${0}deg) rotateX(${0}deg)`\r\n            }}\r\n            style={{display: 'flex', flexDirection: 'column', height: '100%', perspective: '1000px'}}>\r\n                <div id='card' style={{margin: 'auto', height: '90%', width: '80%',border: 'white 1px solid'}}>\r\n                    <button style={{background: 'transparent', fontSize:'32px', marginLeft: '10px'}} className='chat-btn' onClick={()=>{ setChatPanel(renderSetting())}}><FaArrowAltCircleLeft/></button>\r\n                    <button style={{background: 'transparent', fontSize:'32px', marginRight: '10px', float: 'right'}} className='chat-btn' onClick={()=>{ alert('a')}}><FaEdit/></button>\r\n                    <div style={{margin: 'auto', width: '100px', height: '100px', background: 'yellow', backgroundSize: 'cover', backgroundPosition: 'center', borderRadius: '50%'}}></div>\r\n                    <h5 style={{margin: 'auto', textAlign: 'center', marginTop: '25px'}}>user name</h5>\r\n                    <h5 style={{margin: 'auto', textAlign: 'center', marginTop: '25px'}}>email address</h5>\r\n                    <p style={{margin: 'auto', textAlign: 'center', paddingTop: '50px'}}>\r\n                        I am who I am. It is what it is.\r\n                    </p>\r\n                </div>\r\n            </div>)\r\n    }\r\n    function renderPassword(){\r\n        return(\r\n            <div style={{width: '100%', height: '100%', overflow: 'scroll'}}>\r\n                <button style={{background: 'transparent', fontSize:'32px', marginLeft: '10px'}} className='chat-btn' onClick={()=>{ setChatPanel(renderSetting())}}><FaArrowAltCircleLeft/></button>\r\n                <Input style={{marginTop: '70px'}} type=\"password\" name=\"password\" className=\"setting-password search\" placeholder={language==='English'? \"old password\": 'パスワード'} />\r\n                <Input type=\"password\" name=\"password\" className=\"setting-password search\" placeholder={language==='English'? \"new password\": 'パスワード'} />\r\n                <Input type=\"password\" name=\"password\" className=\"setting-password search\"  placeholder={language==='English'? \"confirm password\": 'パスワード'} />\r\n                <Button id='ps-submit' outline color='success'>submit</Button>\r\n            </div>\r\n        )\r\n    }\r\n    function renderLanguage(){\r\n        let usa_x = Math.floor(Math.random()*38)*10 - 60;\r\n        let usa_y = Math.floor(Math.random()*52)*10;\r\n        \r\n        let japan_x = Math.floor(Math.random()*38)*10;\r\n        let japan_y = Math.floor(Math.random()*52)*10;\r\n\r\n        // 0-> right up 1-> right down 2-> left up 3-> left down \r\n        let usa_direction = Math.floor(Math.random()*4);\r\n        let japan_direction = Math.floor(Math.random()*4);\r\n        while(usa_direction===japan_direction){\r\n            japan_direction = Math.floor(Math.random()*4);\r\n        }\r\n\r\n        function update(){\r\n            const japan = document.getElementById('japn-ball');\r\n            const usa = document.getElementById('usa-ball');\r\n            if(!japan){\r\n                clearInterval(interval);\r\n                return\r\n            }\r\n            let x = japan_x;\r\n            let y = japan_y;\r\n            switch(japan_direction){\r\n                case 0:\r\n                    x+=10; y-=10;\r\n                    if(x>380&&y<0){\r\n                        japan_direction = 3;\r\n                        japan_x -= 10;\r\n                        japan_y+=10;\r\n                    } else if(x>380){\r\n                        japan_direction = 2;\r\n                        japan_x -= 10;\r\n                        japan_y=y\r\n                    } else if(y<0){\r\n                        japan_direction = 1;\r\n                        japan_y+=10;\r\n                        japan_x = x\r\n                    } else {\r\n                        japan_x = x;\r\n                        japan_y = y;\r\n                    }\r\n                    break\r\n                case 1:\r\n                    x+=10; y+=10;\r\n                    if(x>380&&y>520){\r\n                        japan_direction = 2;\r\n                        japan_x-=10;\r\n                        japan_y-=10;\r\n                    } else if(x>380){\r\n                        japan_direction = 3;\r\n                        japan_x-=10;\r\n                        japan_y=y\r\n                    } else if(y>520){\r\n                        japan_direction = 0;\r\n                        japan_y-=10;\r\n                        japan_x = x\r\n                    } else {\r\n                        japan_x = x;\r\n                        japan_y = y;\r\n                    }\r\n                    break\r\n                case 2:\r\n                    x-=10; y-=10;\r\n                    if(x<0&&y<0){\r\n                        japan_direction = 1;\r\n                        japan_x+=10;\r\n                        japan_y+=10;\r\n                    } else if(x<0){\r\n                        japan_direction = 0;\r\n                        japan_x+=10;\r\n                        japan_y=y\r\n                        \r\n                    } else if(y<0){\r\n                        japan_direction = 3;\r\n                        japan_y+=10;\r\n                        japan_x = x\r\n                    } else {\r\n                        japan_x = x;\r\n                        japan_y = y;\r\n                    }\r\n                    break\r\n                default:\r\n                    x-=10; y+=10;\r\n                    if(x<0&&y>520){\r\n                        japan_direction = 0;\r\n                        japan_x+=10;\r\n                        japan_y-=10;\r\n                    } else if(x<0){\r\n                        japan_direction = 1;\r\n                        japan_x+=10;\r\n                        japan_y=y\r\n                    } else if(y>520){\r\n                        japan_direction = 2;\r\n                        japan_y-=10;\r\n                        japan_x = x\r\n\r\n                    } else {\r\n                        japan_x = x;\r\n                        japan_y = y;\r\n                    }\r\n            }\r\n            x = usa_x;\r\n            y = usa_y;\r\n            switch(usa_direction){\r\n                case 0:\r\n                    x+=10; y-=10;\r\n                    if(x>320&&y<0){\r\n                        usa_direction = 3;\r\n                        usa_x -= 10;\r\n                        usa_y+=10;\r\n                    } else if(x>320){\r\n                        usa_direction = 2;\r\n                        usa_x -= 10;\r\n                        usa_y=y\r\n                    } else if(y<0){\r\n                        usa_direction = 1;\r\n                        usa_y+=10;\r\n                        usa_x = x\r\n                    } else {\r\n                        usa_x = x;\r\n                        usa_y = y;\r\n                    }\r\n                    break\r\n                case 1:\r\n                    x+=10; y+=10;\r\n                    if(x>320&&y>520){\r\n                        usa_direction = 2;\r\n                        usa_x-=10;\r\n                        usa_y-=10;\r\n                    } else if(x>320){\r\n                        usa_direction = 3;\r\n                        usa_x-=10;\r\n                        usa_y=y\r\n                    } else if(y>520){\r\n                        usa_direction = 0;\r\n                        usa_y-=10;\r\n                        usa_x = x\r\n                    } else {\r\n                        usa_x = x;\r\n                        usa_y = y;\r\n                    }\r\n                    break\r\n                case 2:\r\n                    x-=10; y-=10;\r\n                    if(x<-60&&y<0){\r\n                        usa_direction = 1;\r\n                        usa_x+=10;\r\n                        usa_y+=10;\r\n                    } else if(x<-60){\r\n                        usa_direction = 0;\r\n                        usa_x+=10;\r\n                        usa_y=y\r\n                        \r\n                    } else if(y<0){\r\n                        usa_direction = 3;\r\n                        usa_y+=10;\r\n                        usa_x = x\r\n                    } else {\r\n                        usa_x = x;\r\n                        usa_y = y;\r\n                    }\r\n                    break\r\n                default:\r\n                    x-=10; y+=10;\r\n                    if(x<-60&&y>520){\r\n                        usa_direction = 0;\r\n                        usa_x+=10;\r\n                        usa_y-=10;\r\n                    } else if(x<-60){\r\n                        usa_direction = 1;\r\n                        usa_x+=10;\r\n                        usa_y=y\r\n                    } else if(y>520){\r\n                        usa_direction = 2;\r\n                        usa_y-=10;\r\n                        usa_x = x\r\n\r\n                    } else {\r\n                        usa_x = x;\r\n                        usa_y = y;\r\n                    }\r\n            }\r\n            japan.style.left = japan_x + 'px';\r\n            japan.style.top = japan_y + 'px';\r\n            usa.style.left = usa_x + 'px';\r\n            usa.style.top = usa_y + 'px';\r\n        }\r\n        const interval = setInterval(update, 100);\r\n        return(\r\n            <div style={{width: '100%', height: '100%', overflow: 'scroll'}}>\r\n                <button style={{background: 'transparent', fontSize:'32px', marginLeft: '10px', position: 'absolute', zIndex:'10'}} className='chat-btn' onClick={()=>{ clearInterval(interval);setChatPanel(renderSetting()); }}><FaArrowAltCircleLeft/></button>\r\n                <div style={{width: '100%', height: '100%'}}>\r\n                    <button style={{left: japan_x, top: japan_y, zIndex: '2'}} onClick={()=>{ dispatch(cover_sign_language('Japanese'));setChatPanel(renderSetting()); clearInterval(interval); }} id='japn-ball' className='ball'></button>\r\n                    <button style={{left: usa_x, top: usa_y, zIndex: '2'}} onClick={()=>{dispatch(cover_sign_language('English'));setChatPanel(renderSetting()); clearInterval(interval);}} id='usa-ball' className='ball'></button>\r\n                    <h4 style={{position: 'relative', top: '36%', width: '100%', textAlign: 'center'}}>Choose your language</h4>\r\n                </div>\r\n            </div>)\r\n    }\r\n    function switch_to_setting(){\r\n        setActive('setting');\r\n        \r\n        setChatPanel(renderSetting())\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='homepage' style={{backgroundImage: `url(${hashBg(background)})`}}>\r\n            <div className='shadow'></div>\r\n            \r\n            {width>=800?\r\n                (<div className='chat-window'> \r\n                    <nav className='navbar'>\r\n                        <button onClick={switch_to_chat} className='chat-btn' id='chat'><FaComment size={28} style={{color: active==='chat'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={switch_to_setting} className='chat-btn' id='setting'><FaCog size={28} style={{color: active==='setting'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setLogoutWindow(!logoutWindow)}} className='chat-btn' id='logout'><FaSignOutAlt size={28} /></button>\r\n                    </nav>\r\n                    \r\n                    <div className='main-interface'>\r\n                        <div className='middle'>\r\n                            <div className='mid-header'>\r\n                                <InputGroup className='search-container'>\r\n                                    <InputGroupAddon addonType=\"prepend\">\r\n                                        <InputGroupText><FaSearch size={16}/></InputGroupText>\r\n                                    </InputGroupAddon>\r\n                                    <Input className='search' placeholder=\"Search\" onChange={(e)=>{e.preventDefault();e.stopPropagation();e.nativeEvent.stopImmediatePropagation();setChatList(renderChatList(e.target.value))}}/>\r\n                                </InputGroup>\r\n                                <button onClick={()=>{setFriendWindow(!friendWindow)}} className='chat-btn' id='w-add'><FaPlus size={28} /></button>\r\n\r\n                            </div>\r\n                            <div style={{height: '88%', overflow: 'scroll', overflowX: 'hidden'}}>\r\n                                <div style={{borderBottom: 'white 1px solid'}}>\r\n                                    <h5 style={{textAlign: 'center'}}>Friend Request</h5>\r\n                                    {requestEle}\r\n                                    <br></br>\r\n                                </div>\r\n                                \r\n                                {chatList}\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            \r\n                            {chatPanel}\r\n                        </div>\r\n                    </div>\r\n                </div>): \r\n                // mobile screen\r\n                <div className='chat-mobile'>\r\n                    <div className='m-header'>\r\n                        <button className='chat-btn' id='m-add'><FaPlus size={28} /></button>\r\n                    </div>\r\n                    <div className='m-content'>\r\n                        {mobile_state==='chat'?\r\n                            <div className='part'>1</div>:\r\n                            mobile_state==='friends'?\r\n                            <div className='part'>2</div>:\r\n                            <div className='part'>3</div>\r\n                        }\r\n                        {/* <CSSTransition\r\n                            in={mobile_state === 'chat'}\r\n                            timeout={500}\r\n                            classNames=\"menu-primary\"\r\n                            unmountOnExit>\r\n                                <div className='part'>1</div>\r\n                        </CSSTransition>\r\n                        <CSSTransition\r\n                            in={mobile_state === 'friends'}\r\n                            timeout={500}\r\n                            classNames=\"menu-secondary\"\r\n                            unmountOnExit>\r\n                                <div className='part'>2</div>\r\n                        </CSSTransition> */}\r\n                    </div>\r\n                    <div className='m-navbar'>\r\n                        <button onClick={()=>{setMobileState('chat')}} className='chat-btn' id='chat'><FaComment size={28} style={{color: active==='chat'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setMobileState('friends')}} className='chat-btn' id='friends'><FaUserFriends size={28} style={{color: active==='friends'? 'rgb(91, 226, 79)': ''}}/></button>\r\n                        <button onClick={()=>{setMobileState('file')}} className='chat-btn' id='profile'><FaUserCircle size={28} style={{'color':'white'}}/></button>\r\n                    </div>\r\n                </div>\r\n            }\r\n            \r\n            <Modal isOpen={logoutWindow} toggle={()=>{setLogoutWindow(!logoutWindow)}} style={{position: 'relative', top: '100px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >You want to leave now?</ModalHeader>\r\n                \r\n                <ModalFooter>\r\n                    <Link to='/sign'><Button color=\"primary\" onClick={()=>{setLogoutWindow(!logoutWindow)}}>Confirm</Button></Link>\r\n                    <Button color=\"secondary\" onClick={()=>{setLogoutWindow(!logoutWindow)}}>Cancel</Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={friendWindow} toggle={()=>{setFriendWindow(!friendWindow)}} style={{position: 'relative', top: '100px', width: '300px'}}>\r\n                <ModalHeader style={{textAlign: 'center'}} >Search user by name</ModalHeader>\r\n                <Input type='text' style={{width: '90%', marginLeft: '10px', marginTop: '5px'}} onChange={(e)=>{\r\n                    const regex = new RegExp(`^${e.target.value}`, 'gi');\r\n                    setRes(allUsers.filter(user=>user.match(regex)));\r\n                }}></Input>\r\n                <p style={{paddingLeft: '5px'}}>Notice: Your friends and users you have sent request will not be displayed here</p>\r\n                <div style={{height: '200px', overflow: 'scroll'}}>\r\n                    {res.filter(user=>!friends.includes(user)&&!requestSent.includes(user)).map(user=><div key={'add_'+user} style={{height: '50px', paddingTop: '5px'}}>\r\n                        <span style={{fontSize: '20px', marginLeft: '10px', marginTop: '3px'}}>{user}</span>\r\n                        <Button outline color='info' style={{float: 'right', marginRight: '5px'}}>send</Button>\r\n                    </div>)}\r\n                </div>\r\n                \r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Demo;","C:\\Users\\hhp12\\Desktop\\client\\src\\reducers\\cover_sign_language.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Language.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Card.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Background.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Setting.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Password.js",["93"],"import {FaArrowAltCircleLeft} from 'react-icons/fa'\r\nimport React from 'react';\r\nimport { Input, Button} from 'reactstrap';\r\n\r\nfunction Password({back, language, setPassword}) {\r\n    return (\r\n        <div style={{width: '100%', height: '100%', overflow: 'scroll'}}>\r\n            <button style={{background: 'transparent', fontSize:'32px', marginLeft: '10px'}} className='chat-btn' onClick={back}><FaArrowAltCircleLeft/></button>\r\n            <h6 id='msg_display' style={{position: 'absolute',color: 'red', margin: 'auto', width: '55%',  padding: '0 40px'}}></h6>\r\n            <Input id='pa' style={{marginTop: '55px'}} type=\"password\" name=\"password\" className=\"setting-password search\" placeholder={language==='English'? \"old password\": '以前のパスワード'} />\r\n            <Input id='pb' type=\"password\" name=\"password\" className=\"setting-password search\" placeholder={language==='English'? \"new password\": '新たなパスワード'} />\r\n            <Input id='pc' type=\"password\" name=\"password\" className=\"setting-password search\"  placeholder={language==='English'? \"confirm password\": 'パスワード確認'} />\r\n            <Button onClick={()=>{setPassword();}}　id='ps-submit' outline color='success'>submit</Button>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Password;","C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\ChatPanel.js",[],"C:\\Users\\hhp12\\Desktop\\client\\src\\actions\\index.js",[],["94","95"],"C:\\Users\\hhp12\\Desktop\\client\\src\\pages\\components\\Info.js",[],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":25,"column":13,"nodeType":"102","messageId":"103","endLine":25,"endColumn":15},{"ruleId":"100","severity":1,"message":"104","line":31,"column":21,"nodeType":"102","messageId":"103","endLine":31,"endColumn":32},{"ruleId":"100","severity":1,"message":"105","line":3,"column":35,"nodeType":"102","messageId":"103","endLine":3,"endColumn":48},{"ruleId":"100","severity":1,"message":"106","line":3,"column":50,"nodeType":"102","messageId":"103","endLine":3,"endColumn":62},{"ruleId":"100","severity":1,"message":"107","line":5,"column":10,"nodeType":"102","messageId":"103","endLine":5,"endColumn":23},{"ruleId":"100","severity":1,"message":"108","line":114,"column":12,"nodeType":"102","messageId":"103","endLine":114,"endColumn":24},{"ruleId":"100","severity":1,"message":"109","line":114,"column":26,"nodeType":"102","messageId":"103","endLine":114,"endColumn":40},{"ruleId":"100","severity":1,"message":"110","line":121,"column":24,"nodeType":"102","messageId":"103","endLine":121,"endColumn":37},{"ruleId":"111","severity":1,"message":"112","line":156,"column":8,"nodeType":"113","endLine":156,"endColumn":17,"suggestions":"114"},{"ruleId":"100","severity":1,"message":"115","line":1,"column":26,"nodeType":"102","messageId":"103","endLine":1,"endColumn":35},{"ruleId":"100","severity":1,"message":"116","line":3,"column":10,"nodeType":"102","messageId":"103","endLine":3,"endColumn":21},{"ruleId":"100","severity":1,"message":"117","line":3,"column":175,"nodeType":"102","messageId":"103","endLine":3,"endColumn":183},{"ruleId":"100","severity":1,"message":"118","line":3,"column":185,"nodeType":"102","messageId":"103","endLine":3,"endColumn":211},{"ruleId":"100","severity":1,"message":"107","line":5,"column":10,"nodeType":"102","messageId":"103","endLine":5,"endColumn":23},{"ruleId":"100","severity":1,"message":"119","line":9,"column":8,"nodeType":"102","messageId":"103","endLine":9,"endColumn":13},{"ruleId":"120","severity":1,"message":"121","line":9,"column":13,"nodeType":"122","endLine":9,"endColumn":128},{"ruleId":"96","replacedBy":"123"},{"ruleId":"98","replacedBy":"124"},"no-native-reassign",["125"],"no-negated-in-lhs",["126"],"no-unused-vars","'id' is assigned a value but never used.","Identifier","unusedVar","'setRedirect' is assigned a value but never used.","'FaUserFriends' is defined but never used.","'FaUserCircle' is defined but never used.","'CSSTransition' is defined but never used.","'mobile_state' is assigned a value but never used.","'setMobileState' is assigned a value but never used.","'setSayGoodBye' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'renderChatList'. Either include it or remove the dependency array.","ArrayExpression",["127"],"'useEffect' is defined but never used.","'FaUserSlash' is defined but never used.","'FaCircle' is defined but never used.","'FaAcquisitionsIncorporated' is defined but never used.","'axios' is defined but never used.","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement",["125"],["126"],"no-global-assign","no-unsafe-negation",{"desc":"128","fix":"129"},"Update the dependencies array to be: [friends, renderChatList]",{"range":"130","text":"131"},[6386,6395],"[friends, renderChatList]"]